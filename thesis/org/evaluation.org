
* Translation Quality on WMT 21 test set

  Data source:
  Teacher models: ~/wmt21/teachers/continued_on_parallel
  Student models: ~/wmt21/efficiency

  Each dir contains a results/ folder, containing the translations and the scores.
  Ensembles are out of 4 models, single models are en-de_1 or de-en_1.

** English-German

   #+NAME: endetrqual
   |---------------------------+--------------+--------+--------+----------+---------+---------+---------+-----------+------+----------+---+-----------------+--------+--------+------+---------+---------+---------+---------+------+----------|
   |                           | Full Output: |        |        |          |         |         |         |           |      |          |   | With Shortlist: |        |        |      |         |         |         |         |      |          |
   |---------------------------+--------------+--------+--------+----------+---------+---------+---------+-----------+------+----------+---+-----------------+--------+--------+------+---------+---------+---------+---------+------+----------|
   | Model                     |       ChrF A | ChrF C | ChrF D | ChrF Avg | COMET A | COMET C | COMET D | COMET Avg | BLEU | BLEU Var |   |          Chrf A | Chrf C | Chrf D |      | COMET A | COMET C | COMET D |         | BLEU | BLEU Var |
   |---------------------------+--------------+--------+--------+----------+---------+---------+---------+-----------+------+----------+---+-----------------+--------+--------+------+---------+---------+---------+---------+------+----------|
   | Single greedy AR          |              |        |        |          |         |         |         |           |      |          |   |                 |        |        |      |         |         |         |         |      |          |
   | Large                     |         56.4 |   61.0 |   60.1 |     59.2 |  0.3801 |  0.4341 |  0.4189 |    0.4110 | 50.5 |      1.3 |   |            56.4 |   61.0 |   60.1 | 59.2 |  0.3814 |  0.4356 |  0.4202 |  0.4124 | 50.6 |      1.3 |
   | Base                      |         55.6 |   59.9 |   58.9 |     58.1 |  0.3594 |  0.4088 |  0.3962 |    0.3881 | 47.9 |      1.3 |   |            55.6 |   59.9 |   58.8 | 58.1 |  0.3587 |  0.4082 |  0.3956 |  0.3875 | 47.9 |      1.2 |
   |                           |              |        |        |          |         |         |         |           |      |          |   |                 |        |        |      |         |         |         |         |      |          |
   | Single beam AR            |              |        |        |          |         |         |         |           |      |          |   |                 |        |        |      |         |         |         |         |      |          |
   | Large                     |         56.1 |   60.5 |   59.8 |     58.8 |  0.3770 |  0.4257 |  0.4133 |    0.4053 | 50.8 |      1.3 |   |            56.0 |   60.9 |   59.4 | 58.8 |  0.3842 |  0.4406 |  0.4183 |  0.4144 | 47.9 |      1.2 |
   | Base                      |         55.4 |   59.7 |   58.6 |     57.9 |  0.3598 |  0.4067 |  0.3955 |    0.3873 | 48.0 |      1.3 |   |            52.9 |   56.9 |   55.5 | 55.1 |  0.2371 |  0.2896 |  0.2730 |  0.2666 | 39.3 |      1.1 |
   |                           |              |        |        |          |         |         |         |           |      |          |   |                 |        |        |      |         |         |         |         |      |          |
   | Ensemble beam AR          |              |        |        |          |         |         |         |           |      |          |   |                 |        |        |      |         |         |         |         |      |          |
   | Large                     |         56.5 |   61.4 |   60.5 |     59.5 |  0.4015 |  0.4571 |  0.4411 |    0.4332 | 52.2 |      1.3 |   |            56.5 |   61.3 |   60.4 | 59.4 |  0.3990 |  0.4536 |  0.4382 |  0.4303 | 52.2 |      1.3 |
   |---------------------------+--------------+--------+--------+----------+---------+---------+---------+-----------+------+----------+---+-----------------+--------+--------+------+---------+---------+---------+---------+------+----------|
   | Student AR                |         56.9 |   61.4 |   60.3 |     59.5 |  0.4245 |  0.4773 |  0.4633 |    0.4550 | 51.6 |      1.2 |   |            57.0 |   61.5 |   60.4 | 59.6 |  0.4260 |  0.4787 |  0.4646 |  0.4564 | 51.6 |      1.2 |
   |                           |              |        |        |          |         |         |         |           |      |          |   |                 |        |        |      |         |         |         |         |      |          |
   | Non-autoregressive models |              |        |        |          |         |         |         |           |      |          |   |                 |        |        |      |         |         |         |         |      |          |
   | Large                     |         55.9 |   60.5 |   59.4 |     58.6 |  0.1155 |  0.1756 |  0.1544 |    0.1485 | 47.8 |      1.2 |   |            56.0 |   60.6 |   59.5 | 58.7 |  0.1112 |  0.1717 |  0.1498 |  0.1442 | 47.7 |      1.2 |
   | Base                      |         54.1 |   58.0 |   56.7 |     56.3 | -0.0753 | -0.0282 | -0.0528 |   -0.0521 | 41.8 |      1.1 |   |            54.1 |   58.0 |   56.8 | 56.3 | -0.0779 | -0.0305 | -0.0550 | -0.0545 | 41.8 |      1.1 |
   | Small                     |         54.0 |   57.9 |   56.8 |     56.2 | -0.1024 | -0.0500 | -0.0731 |   -0.0752 | 41.9 |      1.1 |   |            53.9 |   57.9 |   56.7 | 56.2 | -0.1045 | -0.0522 | -0.0751 | -0.0773 | 41.9 |      1.2 |
   | Micro                     |         55.1 |   58.9 |   57.8 |     57.3 | -0.0338 |  0.0159 | -0.0071 |   -0.0083 | 43.5 |      1.1 |   |            55.2 |   59.0 |   58.0 | 57.4 | -0.0343 |  0.0161 | -0.0074 | -0.0085 | 43.6 |      1.1 |
   | Tiny                      |         51.8 |   55.0 |   54.0 |     53.6 | -0.3538 | -0.3116 | -0.3346 |   -0.3333 | 34.7 |      1.0 |   |            52.0 |   55.2 |   54.2 | 53.8 | -0.3550 | -0.3128 | -0.3360 | -0.3346 | 34.8 |      1.0 |
   |---------------------------+--------------+--------+--------+----------+---------+---------+---------+-----------+------+----------+---+-----------------+--------+--------+------+---------+---------+---------+---------+------+----------|
   #+TBLFM: $5=vmean($2..$4);%0.1f
   #+TBLFM: $9=vmean($6..$8);%0.4f
   #+TBLFM: $16=vmean($13..$15);%0.1f
   #+TBLFM: $20=vmean($17..$19);%0.4f

**** Export

   |---------------------------+----------+-----------+------+----------+----------+-----------+------+----------|
   | Model                     | ChrF Avg | COMET Avg | BLEU | BLEU Var | Chrf Avg | COMET Avg | BLEU | BLEU Var |
   |---------------------------+----------+-----------+------+----------+----------+-----------+------+----------|
   | Single greedy AR          |          |           |      |          |          |           |      |          |
   | Large                     |     59.2 |    0.4110 | 50.5 |      1.3 |     59.2 |    0.4124 | 50.6 |      1.3 |
   | Base                      |     58.1 |    0.3881 | 47.9 |      1.3 |     58.1 |    0.3875 | 47.9 |      1.2 |
   |                           |          |           |      |          |          |           |      |          |
   | Single beam AR            |          |           |      |          |          |           |      |          |
   | Large                     |     58.8 |    0.4053 | 50.8 |      1.3 |     58.8 |    0.4144 | 47.9 |      1.2 |
   | Base                      |     57.9 |    0.3873 | 48.0 |      1.3 |     55.1 |    0.2666 | 39.3 |      1.1 |
   |                           |          |           |      |          |          |           |      |          |
   | Ensemble beam AR          |          |           |      |          |          |           |      |          |
   | Large                     |     59.5 |    0.4332 | 52.2 |      1.3 |     59.4 |    0.4303 | 52.2 |      1.3 |
   |---------------------------+----------+-----------+------+----------+----------+-----------+------+----------|
   | Student AR                |     59.5 |    0.4550 | 51.6 |      1.2 |     59.6 |    0.4564 | 51.6 |      1.2 |
   |                           |          |           |      |          |          |           |      |          |
   | Non-autoregressive models |          |           |      |          |          |           |      |          |
   | Large                     |     58.6 |    0.1485 | 47.8 |      1.2 |     58.7 |    0.1442 | 47.7 |      1.2 |
   | Base                      |     56.3 |   -0.0521 | 41.8 |      1.1 |     56.3 |   -0.0545 | 41.8 |      1.1 |
   | Small                     |     56.2 |   -0.0752 | 41.9 |      1.1 |     56.2 |   -0.0773 | 41.9 |      1.2 |
   | Micro                     |     57.3 |   -0.0083 | 43.5 |      1.1 |     57.4 |   -0.0085 | 43.6 |      1.1 |
   | Tiny                      |     53.6 |   -0.3333 | 34.7 |      1.0 |     53.8 |   -0.3346 | 34.8 |      1.0 |
   |---------------------------+----------+-----------+------+----------+----------+-----------+------+----------|

*** En-De quality with Shortlist


** German-English

   #+NAME: deentrqual
   |---------------------------+--------------+--------+----------+---------+---------+-----------+------+----------+---+-----------------+--------+------+---------+---------+---------+------+----------|
   |                           | Full Output: |        |          |         |         |           |      |          |   | With Shortlist: |        |      |         |         |         |      |          |
   |---------------------------+--------------+--------+----------+---------+---------+-----------+------+----------+---+-----------------+--------+------+---------+---------+---------+------+----------|
   | Model                     |       ChrF A | Chrf B | ChrF Avg | COMET A | COMET B | COMET Avg | BLEU | BLEU Var |   |          Chrf A | Chrf B |      | COMET A | COMET B |         | BLEU | BLEU Var |
   |---------------------------+--------------+--------+----------+---------+---------+-----------+------+----------+---+-----------------+--------+------+---------+---------+---------+------+----------|
   | Single greedy AR          |              |        |          |         |         |           |      |          |   |                 |        |      |         |         |         |      |          |
   | Large                     |         60.2 |   63.5 |     61.9 |  0.5789 |  0.5947 |    0.5868 | 48.4 |      1.3 |   |            60.2 |   63.5 | 61.9 |  0.5784 |  0.5947 |  0.5866 | 48.5 |      1.3 |
   | Base                      |         59.5 |   62.4 |     61.0 |  0.5447 |  0.5616 |    0.5532 | 47.0 |      1.3 |   |            58.5 |   62.4 | 60.5 |  0.5450 |  0.5619 |  0.5534 | 47.1 |      1.3 |
   |                           |              |        |          |         |         |           |      |          |   |                 |        |      |         |         |         |      |          |
   | Single beam AR            |              |        |          |         |         |           |      |          |   |                 |        |      |         |         |         |      |          |
   | Large                     |         59.9 |   63.1 |     61.5 |  0.5777 |  0.5992 |    0.5885 | 49.2 |      1.2 |   |            59.8 |   62.6 | 61.2 |  0.5595 |  0.5723 |  0.5659 | 43.9 |      1.1 |
   | Base                      |         59.4 |   62.0 |     60.7 |  0.5453 |  0.5616 |    0.5534 | 47.4 |      1.3 |   |            57.0 |   58.9 | 58.0 |  0.4562 |  0.4619 |  0.4591 | 38.5 |      1.2 |
   |                           |              |        |          |         |         |           |      |          |   |                 |        |      |         |         |         |      |          |
   | Ensemble beam AR          |              |        |          |         |         |           |      |          |   |                 |        |      |         |         |         |      |          |
   | Large                     |         60.3 |   63.8 |     62.0 |  0.5818 |  0.6090 |    0.5954 | 50.6 |      1.3 |   |            60.7 |   63.9 | 62.3 |  0.5851 |  0.6090 |  0.5970 | 50.8 |      1.3 |
   |---------------------------+--------------+--------+----------+---------+---------+-----------+------+----------+---+-----------------+--------+------+---------+---------+---------+------+----------|
   | Student AR                |         61.6 |   65.0 |     63.3 |  0.5989 |  0.6240 |    0.6115 | 51.1 |      1.3 |   |            61.6 |   65.0 | 63.3 |  0.5988 |  0.6237 |  0.6112 | 51.1 |      1.3 |
   |                           |              |        |          |         |         |           |      |          |   |                 |        |      |         |         |         |      |          |
   | Non-autoregressive models |              |        |          |         |         |           |      |          |   |                 |        |      |         |         |         |      |          |
   | Large                     |         60.3 |   63.0 |     61.6 |  0.3207 |  0.3385 |    0.3296 | 46.4 |      1.4 |   |            60.3 |   63.0 | 61.6 |  0.3200 |  0.3377 |  0.3288 | 46.4 |      1.4 |
   | Base                      |         60.1 |   62.7 |     61.4 |  0.2923 |  0.2991 |    0.2957 | 45.8 |      1.3 |   |            60.1 |   62.7 | 61.4 |  0.2914 |  0.2413 |  0.2663 | 45.7 |      1.3 |
   | Small                     |         59.9 |   62.2 |     61.0 |  0.2420 |  0.2503 |    0.2462 | 44.6 |      1.3 |   |            59.9 |   62.2 | 61.0 |  0.2413 |  0.2495 |  0.2454 | 44.6 |      1.3 |
   | Micro                     |         58.5 |   60.8 |     59.6 |  0.1466 |  0.1485 |    0.1475 | 42.3 |      1.4 |   |            58.5 |   60.8 | 59.6 |  0.1459 |  0.1477 |  0.1468 | 42.3 |      1.4 |
   | Tiny                      |         55.2 |   56.5 |     55.9 | -0.1539 | -0.1578 |   -0.1558 | 34.4 |      1.3 |   |            55.2 |   56.5 | 55.9 | -0.1542 | -0.1579 | -0.1560 | 34.4 |      1.3 |
   |---------------------------+--------------+--------+----------+---------+---------+-----------+------+----------+---+-----------------+--------+------+---------+---------+---------+------+----------|
   #+TBLFM: $4=vmean($2..$3);%0.1f
   #+TBLFM: $7=vmean($5..$6);%0.4f
   #+TBLFM: $13=vmean($11..$12);%0.1f
   #+TBLFM: $16=vmean($14..$15);%0.4f


*** Export
   |---------------------------+----------+-----------+------+----------+----------+-----------+------+----------|
   | Model                     | ChrF Avg | COMET Avg | BLEU | BLEU Var | Chrf Avg | COMET Avg | BLEU | BLEU Var |
   |---------------------------+----------+-----------+------+----------+----------+-----------+------+----------|
   | Single greedy AR          |          |           |      |          |          |           |      |          |
   | Large                     |     61.9 |    0.5868 | 48.4 |      1.3 |     61.9 |    0.5866 | 48.5 |      1.3 |
   | Base                      |     61.0 |    0.5532 | 47.0 |      1.3 |     60.5 |    0.5534 | 47.1 |      1.3 |
   |                           |          |           |      |          |          |           |      |          |
   | Single beam AR            |          |           |      |          |          |           |      |          |
   | Large                     |     61.5 |    0.5885 | 49.2 |      1.2 |     61.2 |    0.5659 | 43.9 |      1.1 |
   | Base                      |     60.7 |    0.5534 | 47.4 |      1.3 |     58.0 |    0.4591 | 38.5 |      1.2 |
   |                           |          |           |      |          |          |           |      |          |
   | Ensemble beam AR          |          |           |      |          |          |           |      |          |
   | Large                     |     62.0 |    0.5954 | 50.6 |      1.3 |     62.3 |    0.5970 | 50.8 |      1.3 |
   |---------------------------+----------+-----------+------+----------+----------+-----------+------+----------|
   | Student AR                |     63.3 |    0.6115 | 51.1 |      1.3 |     63.3 |    0.6112 | 51.1 |      1.3 |
   |                           |          |           |      |          |          |           |      |          |
   | Non-autoregressive models |          |           |      |          |          |           |      |          |
   | Large                     |     61.6 |    0.3296 | 46.4 |      1.4 |     61.6 |    0.3288 | 46.4 |      1.4 |
   | Base                      |     61.4 |    0.2957 | 45.8 |      1.3 |     61.4 |    0.2663 | 45.7 |      1.3 |
   | Small                     |     61.0 |    0.2462 | 44.6 |      1.3 |     61.0 |    0.2454 | 44.6 |      1.3 |
   | Micro                     |     59.6 |    0.1475 | 42.3 |      1.4 |     59.6 |    0.1468 | 42.3 |      1.4 |
   | Tiny                      |     55.9 |   -0.1558 | 34.4 |      1.3 |     55.9 |   -0.1560 | 34.4 |      1.3 |
   |---------------------------+----------+-----------+------+----------+----------+-----------+------+----------|

* Translation on WMT 14

  |-------+------------+-----------------+-------------+-----------------+-------------+-----------------+-------------+-----------------|
  | Model | En-De 300k | En-De @300k AVG | En-De Final | En-De Final AVG | De-En @300k | De-En @300k AVG | De-En Final | De-En Final AVG |
  |-------+------------+-----------------+-------------+-----------------+-------------+-----------------+-------------+-----------------|
  |       |            |                 |             |                 |             |                 |             |                 |
  |-------+------------+-----------------+-------------+-----------------+-------------+-----------------+-------------+-----------------|
  | Large |       27.6 |            27.7 |        28.1 |            28.4 |        29.5 |            30.0 |        30.9 |            31.3 |
  | Base  |       22.4 |            22.4 |        23.7 |            23.7 |        27.7 |            28.1 |        29.8 |            30.3 |
  | Small |       22.4 |            22.5 |        23.7 |            23.6 |        26.5 |            26.7 |        28.7 |            29.1 |
  | Micro |       23.6 |            23.7 |        25.1 |            25.0 |        25.5 |            25.1 |        27.2 |            27.5 |
  | Tiny  |       19.0 |            19.0 |        20.3 |            20.3 |        19.5 |            19.6 |        21.5 |            21.7 |
  |-------+------------+-----------------+-------------+-----------------+-------------+-----------------+-------------+-----------------|


* Decoding speed on efficiency data

  Is tied faster than non-tied?

  1M sentences

** CPU - IceLake

*** Latency

    SINGLE CORE: we use 10 times smaller dataset because the million sentences
    took forever

  |---------+----------------------------|
  | Model   | Latency - CPU 1 Core (x10) |
  |---------+----------------------------|
  | AR Big  |                            |
  | AR Base |                            |
  |---------+----------------------------|
  | Large   |                      35013 |
  | Base    |                       9463 |
  | Small   |                       6196 |
  | Micro   |                       5108 |
  | Tiny    |                       1581 |
  |---------+----------------------------|



*** Throughput

  Different batch sizes on 36 cores

  |------------------+-------+-------+-------+-------+-------+-------+------+------|
  | Batch @ 36 Cores |     1 |     2 |     4 |     8 |    16 |    32 |   64 |  128 |
  |------------------+-------+-------+-------+-------+-------+-------+------+------|
  | AR Big           | 52087 | 33189 | 23478 | 16731 | 12166 | 10151 | 9370 | 9244 |
  | AR Base          | 16293 |  9727 |  7191 |  5420 |  3635 |  2925 | 2707 | 2664 |
  |------------------+-------+-------+-------+-------+-------+-------+------+------|
  | Large            | 14542 | 11320 |  9534 |  8657 |  8357 |  8247 | 8238 |      |
  | Base             |  3508 |  3126 |  2979 |  2927 |  2921 |  2920 | 2934 | 2948 |
  | Small            |  2346 |  2079 |  1975 |  1933 |  1921 |  1921 | 1936 | 1950 |
  | Micro            |  1952 |  1728 |  1641 |  1600 |  1588 |  1587 | 1607 | 1627 |
  | Tiny             |   784 |   719 |   697 |   687 |   685 |   694 |  701 |  719 |
  |------------------+-------+-------+-------+-------+-------+-------+------+------|

*** Shortlist at 36 CPU cores

    |---------+-------+-------+-------+-------+-------+------+------+------|
    | Batch   |     1 |     2 |     4 |     8 |    16 |   32 |   64 |  128 |
    |---------+-------+-------+-------+-------+-------+------+------+------|
    | AR Big  | 41168 | 27977 | 18914 | 13597 | 10946 | 9643 | 9154 | 9090 |
    | AR Base | 10555 |  6776 |  4660 |  3664 |  2957 | 2643 | 2564 | 2587 |
    |---------+-------+-------+-------+-------+-------+------+------+------|
    | Large   | 12799 |  9870 |  8245 |  7545 |  7434 | 7511 | 7639 |      |
    | Base    |  2549 |  2298 |  2263 |  2306 |  2399 | 2503 | 2609 | 2707 |
    | Small   |  1346 |  1246 |  1250 |  1306 |  1399 | 1497 | 1606 | 1714 |
    | Micro   |   958 |   897 |   913 |   974 |  1062 | 1163 | 1271 | 1380 |
    | Tiny    |   244 |   246 |   273 |   316 |   373 |  437 |  506 |  581 |
    |---------+-------+-------+-------+-------+-------+------+------+------|

**** Export

    | Batch | AR Big | AR Base | Large | Base | Small | Micro | Tiny |
    |     1 |  41168 |   10555 | 12799 | 2549 |  1346 |   958 |  244 |
    |     2 |  27977 |    6776 |  9870 | 2298 |  1246 |   897 |  246 |
    |     4 |  18914 |    4660 |  8245 | 2263 |  1250 |   913 |  273 |
    |     8 |  13597 |    3664 |  7545 | 2306 |  1306 |   974 |  316 |
    |    16 |  10946 |    2957 |  7434 | 2399 |  1399 |  1062 |  373 |
    |    32 |   9643 |    2643 |  7511 | 2503 |  1497 |  1163 |  437 |
    |    64 |   9154 |    2564 |  7639 | 2609 |  1606 |  1271 |  506 |
    |   128 |   9090 |    2587 |       | 2707 |  1714 |  1380 |  581 |


** GPU

*** Latency

    these are the same numbers as in throughput table column 1

    |----------+---------------------+---------------------|
    | Model    | GPU Latency -- P100 | GPU Latency -- A100 |
    |----------+---------------------+---------------------|
    | AR Large |                     |                     |
    | AR Base  |                     |                     |
    |----------+---------------------+---------------------|
    | Large    |               14157 |                     |
    | Base     |                8720 |                     |
    | Small    |                5017 |                     |
    | Micro    |                3781 |                     |
    | Tiny     |                1916 |                     |
    |----------+---------------------+---------------------|

*** Throughput

**** P100 MAX LENGTH 100

     |-----------------+-------+-------+-------+-------+-------+-------+------+------|
     | Batch size      |     1 |     2 |     4 |     8 |    16 |    32 |   64 |  128 |
     |-----------------+-------+-------+-------+-------+-------+-------+------+------|
     | AR Large        |       |       | 44838 | 26231 | 16741 | 11266 | 8926 | 7449 |
     | AR Base (stdnt) |       | 61965 | 33957 | 18503 | 11087 |  6677 | 4503 | 3409 |
     |-----------------+-------+-------+-------+-------+-------+-------+------+------|
     | Large           | 14157 | 10285 |  8079 |  7003 |  6452 |  6056 | 5767 | 5581 |
     | Base            |  8720 |  5532 |  3875 |  3146 |  2769 |  2535 | 2394 | 2303 |
     | Small           |  5017 |  3270 |  2376 |  1977 |  1748 |  1635 | 1564 | 1512 |
     | Micro           |  3781 |  2462 |  1871 |  1579 |  1418 |  1343 | 1282 | 1248 |
     | Tiny            |  1916 |  1295 |   960 |   803 |   730 |   687 |  666 |  652 |
     |-----------------+-------+-------+-------+-------+-------+-------+------+------|

***** Export

     transposed for gnuplot:

  | Batch size | AR Large | AR Base | Large | Base | Small | Micro | Tiny |
  |          1 |          |         | 14157 | 8720 |  5017 |  3781 | 1916 |
  |          2 |          |   61965 | 10285 | 5532 |  3270 |  2462 | 1295 |
  |          4 |    44838 |   33957 |  8079 | 3875 |  2376 |  1871 |  960 |
  |          8 |    26231 |   18503 |  7003 | 3146 |  1977 |  1579 |  803 |
  |         16 |    16741 |   11087 |  6452 | 2769 |  1748 |  1418 |  730 |
  |         32 |    11266 |    6677 |  6056 | 2535 |  1635 |  1343 |  687 |
  |         64 |     8926 |    4503 |  5767 | 2394 |  1564 |  1282 |  666 |
  |        128 |     7449 |    3409 |  5581 | 2303 |  1512 |  1248 |  652 |


**** A100 MAX LENGTH 100

     |-----------------+------+-------+-------+-------+------+------+------+------|
     | Batch size      |    1 |     2 |     4 |     8 |   16 |   32 |   64 |  128 |
     |-----------------+------+-------+-------+-------+------+------+------+------|
     | Ar Large        |      | 53902 | 29369 | 15351 | 8907 | 5216 | 3090 | 1918 |
     | Ar Base (stdnt) |      | 47145 | 25745 | 13836 | 7498 | 3997 | 2371 | 1465 |
     |-----------------+------+-------+-------+-------+------+------+------+------|
     | Large           | 7020 |  3874 |  2292 |  1547 | 1179 |  973 |  850 |  782 |
     | Base            | 6289 |  3400 |  1854 |  1166 |  816 |  635 |  542 |  485 |
     | Small           | 3300 |  1860 |  1051 |   717 |  526 |  434 |  380 |  357 |
     | Micro           | 2322 |  1345 |   833 |   544 |  433 |  367 |  332 |  311 |
     | Tiny            | 1360 |   780 |   503 |   367 |  301 |  273 |  252 |  243 |
     |-----------------+------+-------+-------+-------+------+------+------+------|

     |-----------------+------+------+-------+-------+------+------+------+------|
     | WITH SHORTLIST  |    1 |    2 |     4 |     8 |   16 |   32 |   64 |  128 |
     |-----------------+------+------+-------+-------+------+------+------+------|
     | AR Large        |      |      |       |       |      |      |      |      |
     | AR Base (stdnt) |      |      | 25968 | 14302 | 7098 | 4232 | 2533 | 1393 |
     |-----------------+------+------+-------+-------+------+------+------+------|
     | Large           | 7242 | 4089 |  2327 |  1573 | 1178 |  975 |  847 |  775 |
     | Base            | 6273 | 3369 |  1871 |  1162 |  817 |  642 |  549 |  485 |
     | Small           | 3287 | 1857 |  1041 |   705 |  515 |  437 |  380 |  361 |
     | Micro           | 2385 | 1304 |   790 |   542 |  440 |  366 |  331 |  311 |
     | Tiny            | 1381 |  762 |   502 |   368 |  306 |  273 |  252 |  243 |
     |-----------------+------+------+-------+-------+------+------+------+------|


***** Export

     | Batch size | Ar Large | Ar Base (stdnt) | Large | Base | Small | Micro | Tiny |
     |          1 |          |                 |  7020 | 6289 |  3300 |  2322 | 1360 |
     |          2 |    53902 |           47145 |  3874 | 3400 |  1860 |  1345 |  780 |
     |          4 |    29369 |           25745 |  2292 | 1854 |  1051 |   833 |  503 |
     |          8 |    15351 |           13836 |  1547 | 1166 |   717 |   544 |  367 |
     |         16 |     8907 |            7498 |  1179 |  816 |   526 |   433 |  301 |
     |         32 |     5216 |            3997 |   973 |  635 |   434 |   367 |  273 |
     |         64 |     3090 |            2371 |   850 |  542 |   380 |   332 |  252 |
     |        128 |     1918 |            1465 |   782 |  485 |   357 |   311 |  243 |





* Old stuff
  The NAT models in these tables are with max-length set to 100. AR models are
  with max length 150. Boooo

  Also, the real problem was not the max length, but the batch size - with
  batch > 1, the sentences got decoded to the max length, instead of 3x src
  length.

** English-German
  |-------------------+---------------------------+---------------------------------------+------------|
  | EN -> DE          | Chrf                      | COMET                                 | BLEU       |
  |-------------------+---------------------------+---------------------------------------+------------|
  | Single Greedy AR  |                           |                                       |            |
  | Large             | 56.4 / 61.0 / 60.1 = 59.2 | 0.3801 / 0.4341 / 0.4189 = 0.4110     | 50.5 @ 1.3 |
  | Base              | 55.6 / 59.9 / 58.9 = 58.1 | 0.3594 / 0.4088 / 0.3962 = 0.3881     | 47.9 @ 1.3 |
  |-------------------+---------------------------+---------------------------------------+------------|
  | Single Beam 12 AR |                           |                                       |            |
  | Large             | 56.1 / 60.5 / 59.8 = 58.8 | 0.3770 / 0.4257 / 0.4133 = 0.4053     | 50.8 @ 1.3 |
  | Base              | 55.4 / 59.7 / 58.6 = 57.9 | 0.3598 / 0.4067 / 0.3955 = 0.3873     | 48.0 @ 1.3 |
  |-------------------+---------------------------+---------------------------------------+------------|
  | Ensemble Beam AR  |                           |                                       |            |
  | Large             | 56.5 / 61.4 / 60.5 = 59.5 | 0.4015 / 0.4571 / 0.4411 = 0.4332     | 52.2 @ 1.3 |
  |-------------------+---------------------------+---------------------------------------+------------|
  | NAR               |                           |                                       |            |
  | Large             | 55.9 / 60.5 / 59.4 = 58.6 | +0.0580 /  0.1174 /  0.0972 =  0.0909 | 47.4 @ 1.1 |
  | Base              | 54.0 / 58.0 / 56.7 = 56.2 | -0.1138 / -0.0674 / -0.0931 = -0.0914 | 41.4 @ 1.1 |
  | Small             | 54.0 / 57.9 / 56.7 = 56.2 | -0.1224 / -0.0710 / -0.0937 = -0.0957 | 41.7 @ 1.1 |
  | Micro             | 55.0 / 58.9 / 57.8 = 57.2 | -0.0884 / -0.0390 / -0.0618 = -0.0631 | 43.2 @ 1.1 |
  | Tiny              | 51.8 / 55.0 / 53.9 = 53.6 | -0.4170 / -0.3760 / -0.3983 = -0.3971 | 34.5 @ 1.0 |
  |-------------------+---------------------------+---------------------------------------+------------|

** German-English
  |-------------------+--------------------+-----------------------------+------------|
  | DE -> EN          | Chrf               | COMET                       | BLEU       |
  |-------------------+--------------------+-----------------------------+------------|
  | Single Greedy AR  |                    |                             |            |
  | Large             | 60.2 / 63.5 = 61.9 | 0.5789 / 0.5947 = 0.5868    | 48.4 @ 1.3 |
  | Base              | 59.5 / 62.4 = 61.0 | 0.5447 / 0.5616 = 0.5532    | 47.0 @ 1.3 |
  |-------------------+--------------------+-----------------------------+------------|
  | Single Beam 12 AR |                    |                             |            |
  | Large             | 59.9 / 63.1 = 61.5 | 0.5777 / 0.5992 = 0.5885    | 49.2 @ 1.2 |
  | Base              | 59.4 / 62.0 = 60.7 | 0.5453 / 0.5616 = 0.5535    | 47.4 @ 1.3 |
  |-------------------+--------------------+-----------------------------+------------|
  | Ensemble Beam AR  |                    |                             |            |
  | Large             | 60.3 / 63.8 = 62.1 | 0.5818 / 0.6090 = 0.5954    | 50.6 @ 1.3 |
  |-------------------+--------------------+-----------------------------+------------|
  | NAR               |                    |                             |            |
  | Large             | 60.2 / 62.9 = 61.6 | +0.3032 / +0.3207 = +0.3120 | 45.3 @ 1.3 |
  | Base              | 60.0 / 62.6 = 61.3 | +0.2702 / +0.2709 = +0.2706 | 44.9 @ 1.2 |
  | Small             | 59.8 / 62.1 = 61.0 | +0.2152 / +0.2236 = +0.2194 | 43.9 @ 1.2 |
  | Micro             | 58.4 / 60.7 = 59.6 | +0.1151 / +0.1186 = +0.1169 | 41.8 @ 1.3 |
  | Tiny              | 55.1 / 56.4 = 55.8 | -0.1785 / -0.1815 = -0.1800 | 34.2 @ 1.3 |
  |-------------------+--------------------+-----------------------------+------------|
